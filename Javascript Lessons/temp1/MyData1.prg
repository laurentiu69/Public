* *********************************************************
* *
* * 13/10/2019             MYDATA1.DBC             20:44:03
* *
* *********************************************************
* *
* * Description:
* * This program was automatically generated by GENDBC
* * Version 2.26.67
* *
* *********************************************************


DisplayStatus([Creating database...])
CLOSE DATA ALL
CREATE DATABASE 'MYDATA1.DBC'
DisplayStatus([Creating table VANZATOR...])
MakeTable_VANZATOR()
DisplayStatus([Creating table CUMPARATOR...])
MakeTable_CUMPARATOR()
DisplayStatus([Creating table COMENZI...])
MakeTable_COMENZI()
DisplayStatus([Creating persistent relations...])
MakeRelation_1()
MakeRelation_2()
DisplayStatus([Finished.])

FUNCTION MakeTable_VANZATOR
***** Table setup for VANZATOR *****
CREATE TABLE 'VANZATOR.DBF' NAME 'VANZATOR' (ID I NOT NULL, ;
                       NUME C(20) NOT NULL)

***** Create each index for VANZATOR *****
INDEX ON ID TAG ID CANDIDATE COLLATE 'MACHINE'

***** Change properties for VANZATOR *****
ENDFUNC

FUNCTION MakeTable_CUMPARATOR
***** Table setup for CUMPARATOR *****
CREATE TABLE 'CUMPARATOR.DBF' NAME 'CUMPARATOR' (ID I NOT NULL, ;
                         ID_VANZ I NOT NULL, ;
                         NUME C(10) NOT NULL, ;
                         RAMURA C(10) NOT NULL)

***** Create each index for CUMPARATOR *****
INDEX ON ID TAG ID CANDIDATE COLLATE 'MACHINE'
INDEX ON NUME TAG NUME CANDIDATE COLLATE 'MACHINE'
INDEX ON ID_VANZ TAG ID_VANZ COLLATE 'MACHINE'

***** Change properties for CUMPARATOR *****
ENDFUNC

FUNCTION MakeTable_COMENZI
***** Table setup for COMENZI *****
CREATE TABLE 'COMENZI.DBF' NAME 'COMENZI' (ID I NOT NULL, ;
                      ID_CUMP I NOT NULL, ;
                      VALOARE Y NOT NULL, ;
                      CANTITATE I NOT NULL CHECK (cantitate>9) ERROR "Cantitate trebuie mai mare sau egala cu 10" DEFAULT 10, ;
                      DISCOUNT N(5, 2) NULL DEFAULT .NULL.)

***** Create each index for COMENZI *****
INDEX ON ID_CUMP TAG ID_CUMP COLLATE 'MACHINE'
ALTER TABLE 'COMENZI' ADD PRIMARY KEY ID TAG ID COLLATE 'MACHINE'

***** Change properties for COMENZI *****
DBSETPROP('COMENZI.ID', 'Field', 'Caption', "Identificator Comanda")
DBSETPROP('COMENZI.ID_CUMP', 'Field', 'Caption', "Cod Cumparator")
DBSETPROP('COMENZI.VALOARE', 'Field', 'Caption', "Suma LEI")
DBSETPROP('COMENZI.VALOARE', 'Field', 'InputMask', "999999.99")
DBSETPROP('COMENZI.VALOARE', 'Field', 'Format', "$")
ALTER TABLE 'COMENZI' SET CHECK (valoare>0) ERROR "Valoarea mai mare ca 0"
ENDFUNC

*************** Begin Relations Setup **************

FUNCTION MakeRelation_1
ALTER TABLE 'CUMPARATOR' ADD FOREIGN KEY TAG ID_VANZ REFERENCES VANZATOR TAG ID
ENDFUNC


FUNCTION MakeRelation_2
ALTER TABLE 'COMENZI' ADD FOREIGN KEY TAG ID_CUMP REFERENCES CUMPARATOR TAG ID
ENDFUNC


FUNCTION DisplayStatus(lcMessage)
WAIT WINDOW NOWAIT lcMessage
ENDFUNC
